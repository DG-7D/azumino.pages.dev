---
import Changes from "@/components/Changes.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";

const links: { title: string; url: URL; description: string }[] = [
    {
        title: "wagamachichofu.mp3",
        url: new URL("https://www.city.chofu.tokyo.jp/www/contents/1361495751275/files/wagamachichofu.mp3"),
        description: '「1645」の公式音源。<a href="https://www.city.chofu.tokyo.jp/www/contents/1361495751275/index.html" target="_blank">紹介ページ</a>',
    },
    {
        title: "chaimuon.mp3",
        url: new URL("https://www.city.komae.tokyo.jp/index.cfm/46,63352,c,html/63352/chaimuon.mp3"),
        description: '狛江市の17時の時報の公式音源。<a href="https://www.city.komae.tokyo.jp/index.cfm/46,63352,353,2696,html" target="_blank">紹介ページ</a>',
    },
    {
        title: "ゆいのページ",
        url: new URL("https://yuino.dev/"),
        description: "写真研究部技術担当(大嘘)<!--/工学研究部副部長-->のページ。手打ちでコシのあるhtmlらしい。",
    },
    {
        title: "Akitoshi Lab.",
        url: new URL("https://akitoshi-lab.com/"),
        description: "写真研究部PENTAX担当(???)のページ。",
    },
    {
        title: "すしのへや",
        url: new URL("https://www.sushichan.live/"),
        description: "Astro製電通大生個人サイト。つよい人が使うとこうなるらしい。<del>ちゃんさぶ</del>",
    },
    {
        title: "へる破壊財団",
        url: new URL("https://helkun.dev/"),
        description: "Astro製電通大生個人サイトn+1。<!--工学研究部部長のページ。--><del>くんさぶ</del>",
    },
    {
        title: "y-chan's website",
        url: new URL("https://y-chan.dev/"),
        description: "Astro製電通大生個人サイトn+2。",
    },
    {
        title: "MimiChan",
        url: new URL("https://www.mimitech.dev/"),
        description: "Astro製電通大生個人サイトn+3。",
    },
    {
        title: "MDN Web Docs",
        url: new URL("https://developer.mozilla.org/ja/"),
        description: "聖書。公式ドキュメントを崇めよ。",
    },
    {
        title: "Git - Book",
        url: new URL("https://git-scm.com/book/ja/v2/"),
        description: "Gitを理解するならいかがでしたかサイトを読むより先にこれを読破しよう。公式ドキュメントを崇めよ。",
    },
    {
        title: "Tailscale",
        url: new URL("https://tailscale.com/"),
        description: "めちゃくちゃ手軽なのでVPNで困ったことがある人はぜひ検討してみよう。",
    },
    {
        title: "Unicode コードポイント変換 - ちょびつーる",
        url: new URL("https://chobitool.com/unicodepoint/"),
        description: "文字のコードポイントを確認できるWebツール。パソコンつかえないときに–と-と‐と−とを見分けたくなったりしたときに便利。",
    },
];
---

<BaseLayout title="" description="あづみが遊びで作ってる個人サイトってやつです。一生工事中です。">
    <p><span id="welcome">やっほー、</span>ここは<a href="/about/">あづみ</a>が遊びで作ってる個人サイトってやつです。一生工事中です。サグラダファミリア、あるいは横浜駅。</p>
    <h2>コンテンツ</h2>
    <p>増やしたい。</p>
    <ul>
        <li><a href="/blog/">ブログ</a></li>
        <li><a href="/about/">あづみについて</a></li>
        <li><a href="/misc/">その他</a></li>
    </ul>
    <h2>Tips</h2>
    <p id="tips">JavaScriptが有効だとここにはランダムなTipsが表示される。</p>
    <h2>リンク集</h2>
    <p>知り合いのサイトとかおすすめとかメモとか。</p>
    <dl class="inline">
        {
            // prettier-ignore
            links.map(link =>
                <>
                    <dt><a href={link.url} target="_blank">{link.title}</a></dt>
                    <dd><Fragment set:html={link.description} /></dd>
                </>
            )
        }
    </dl>
    <h2>更新履歴</h2>
    <p>git log垂れ流し。</p>
    <Changes count={3} inline />
</BaseLayout>

<script>
    function random<T>(array: T[]): T {
        return array[Math.floor(Math.random() * array.length)]!;
    }

    const messages = ["やあやあ、", "ようこそ、", "ゆっくりしていってね。", "いらっしゃい。", "Hello and Welcome!! ", "へぇい、", "やっほー、", "うおおおおおお、", "どうも、", "はじめましての方ははじめまして、", "はい、というわけでね、", "えーっとね、"];
    document.getElementById("welcome")!.textContent = random(messages);

    const tipsElement = document.getElementById("tips")!;
    function setTips() {
        const tips = [
            "窓口やモバイルのアプリでSuica/PASMOの残高が1000円を切った際のタッチ音を変更できる。<a href='https://www.pasmo.co.jp/about/service/' target='_blank'>PASMO公式サイト</a>",
            "Windows、JISキーボード環境ではCaps Lockと書いてあるキー(英数キー)でIME切替ができる。",
            "自転車が歩道を走行する際は車道寄りを徐行しなければならない。<a href='https://elaws.e-gov.go.jp/document?lawid=335AC0000000105#Mp-At_63_4' target='_blank'>道路交通法 第六十三条の四</a>",
            "過労や寝不足での運転は犯罪。自転車もだめ。<a href='https://elaws.e-gov.go.jp/document?lawid=335AC0000000105#Mp-At_66' target='_blank'>道路交通法 第六十六条</a>",
            "赤信号の意味は「止まれ」ではなく「停止位置を越えるな」であり、交差点に進入してから赤信号になっても止まる必要はなく(二段階右折を除く)、むしろ速やかに交差点を脱出すべきである。<a href='https://elaws.e-gov.go.jp/document?lawid=335CO0000000270#Mp-At_2' target='_blank'>道路交通法施行令 第二条</a>",
            "電気通信大学 D棟の間取りは基礎科学実験の教科書で確認できるが、基礎科学実験Aのもののほうが若干正確である。",
            "Google Drive上で開かれたPDFは印刷ボタンを押すとブラウザのビューアーで直接開ける。",
            "「Windows PCとMacってどっちがいい？」という疑問が生じた人はいまのところMacを使うべきではない。",
            "井の頭線の急行で永福町から渋谷方面に向かうと「次は明大前」と「まもなく明大前」の放送の間がなさすぎて面白い。",
            "調布駅から電通大多摩川グラウンドまでは京王バスが便利。",
            "GoogleやBingなどの検索欄に数式を入れるとある程度計算してくれる。",
            "Wikipediaにどうでもいい御託が並べられていてよく分からない項目はニコニコ大百科だと分かりやすいことがある。",
            "「wiki」は一般名詞であり、Wikipediaのことを指して使うのは誤り。",
            "こういう出典のないTipsを安易に信用すべきではない。",
            "イギリスでは階数は地上階がground floor、その上(2階)がfirst floorである。0-indexedのほうが分かりやすくね？",
            "「ゔ」はShift_JISでは表現できない。",
            "undefined",
            "GPSは衛星からの電波を受信するだけなのでSIMなしでも使える。ただし回線があるほうが精度と速度は向上するらしい。",
            "ここで中央クリックするとTipsを再抽選できる。",
            "たいていの環境ではリンクで中央クリックすると新しいタブで開ける。ここですると……？",
            "<code>hostname.local</code>でLAN内のデバイスにアクセスできる。(mDNS)",
            "「コンギョ」は一部の配信サイトで配信されている。<a href='https://music.apple.com/jp/album/%E6%94%BB%E6%92%83%E6%88%A6%E3%81%A0/1533246215' target='_blank'>Apple Music</a>",
            "「マリーのアトリエ」はPlayStation(と互換のあるPS2、PS3)、セガサターン、PS4、PS5、Switch、PC、iOSでプレイ可能である(リメイク含む)。",
        ];
        tipsElement.innerHTML = random(tips);
    }
    tipsElement.addEventListener("mousedown", ev => {
        if (ev.button == 1) {
            setTips();
        }
    });
    setTips();
</script>
