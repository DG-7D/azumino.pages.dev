---
publish: true
title: "ファイルサーバ運用の爆音PCを静音化してみた"
publishDate: 2024-08-03 12:00:00 +09:00
description: "ファイルサーバとして使用している爆音Sandy Bridge-Eパソコンを常時起動すべく静かにしようと奮闘してみた話。"
---

メインPCにはHDDを載せるスペースがなく、Sandy Bridge-Eな古いメーカー製PC(詳細は[機材紹介](/about/equipment/))にHDDを載せ、ファイルサーバのように運用している。サーバといっても、撮った写真などの個人的なファイルを置いているだけで、数日に一度しかアクセスしないので、使わない間はスリープにしていた。いちいち電源を入れるのは面倒ではあるが、常時起動するには大きな問題があり、このPC、非常にうるさいのである。今となっては産廃だが、当時ではかなり強い部類のものであり、静音性はほとんど考慮されていない。とはいえ、常時起動できるならそれに越したことはないので、こいつを黙らせようと奮闘してみた。

## 電源の換装

このパソコンで一番うるさい物体は電源だった。DeltaのDPS-1000EB Dとかいうサーバ用だかPC用だかよくわからない1000W電源で、部品がみちみちに詰まった内部に8cmファンで無理矢理風を通す方式。品質は高そうだが、うるさいに決まってる。

<Tweet id="1787779042017755405"/>

ちょうど工研の先輩からPCの差し入れ(?)があり、パーツ争奪戦の結果FSPのFSP500-50ERNを入手。500Wしかないが、グラボはGT 710なので十分足りる。スカスカな内部を12cmファンでゆるゆる冷やす方式で、回ってるのかどうか不安になるほど静か。BTO向けでありケーブルの長さが最低限しかなく、CPU電源がかなりぎりぎりだったりしたが、なんとか換装できた。

<Tweet id="1809575225178440096" />

換装して数日は静かで満足していたのだが、突然異音を発し始める。軸受がスリーブベアリング(軸方向荷重を負荷できない)で、軸方向に留めるワッシャーか何かが機能していないせいか、下向きだとおかしくなるっぽい。軸方向に遊びがあること自体は異常ではなさそう。

<Tweet id="1815355749759066225" hideThread />
<Tweet id="1815537133261897829" hideThread />

配線がぐちゃぐちゃで交換するのはちょっとめんどくさそうなので、ケースに固定することをあきらめ、上下逆にして置くことで解決した。

## ケースファンの換装

一ヶ所静かになるとほかの場所の音が気になってくるものである。次にうるさいのはケースファンであった。4715KL-04W-B19(-P50?)とかいうたぶんPC用ではないやつで、やたらごつくてうるさい。ちなみに現在は品名が変わっているようで、[比較ページ](https://nmbtc.com/fan-part-numbering-system/)があるのだが、詳細資料へのリンクが間違っており、手動で修正して[ここ](https://cdn.nmbtc.com/uploads/2019/04/nmb-dc-fans-legacy-part-numbering-system.pdf)にたどり着かなければならなかった。

<Tweet id="1787780147984416793" hideThread />

CPUを全力稼働させることはないので外してしまえとも思ったが、さすがにエアフローがないとアイドル状態でもけっこうあったかくなってしまったので、弱くてもいいが必須のよう。

まずはハードオフで拾っ(てもらっ)たPLA12025S12L-4とかいうファンを適当なボルトとナットで固定してみた。もとのファンに使われてたタッピングねじは人力ではきびしかった。単品で回すと結構静かなのだが、取り付けてみると筐体との相性が悪いのか、共振してちょっとうるさかった。

どうしたものかと悩んでいると、古いPCの静音化のために使っていたX-FAN RDL1225S-PWMを発掘。はめ込みで使っていたので気にしていなかったが、いい感じの頭がでかいねじと歯つきフランジナットが付属していて素晴らしい。全速でまわすと静かではないが、静かになるまで遅くしてもまあまあな風量がある。

しかしながら、電源を入れてもぴくぴく動くだけで回り始めてくれない。手でつつくとようやく回り始めた。

<Tweet id="1813012234232340524" />

UEFIの設定でファン出力を60%に固定すると、こんどはきちんと始動した。4ピンでのPWM制御ではなく3ピンでの電圧制御なのが関係しているかは不明だが、電圧が低いと回り始めてくれないようである。かつて使っていたVAIO type R masterは、起動時に数秒間ファンが100%でぶん回るという挙動をしていたのだが、こういうファンに対処するための挙動だったのかもしれない。メーカー製PCならちゃんと回るファンを選べばいいだけな気もするが、ユーザが勝手なファンに換装する可能性も考慮していたのだろうか。

## マザボ破壊

ところで、ファン速度設定は「Pulse Width」を49-100で選べるのだが、50%では動かなかった。通常ファンの電源電圧は12Vで、RDL1225Sの動作電圧は6Vからなので、50%で動いてほしいところである。実際のところ何V出ているのか確かめようとテスターを当てようとすると、変なところに触れたのか火花が散ってﾊﾞﾁｯという音がした。特に電源が落ちたりはしなかったが、ファンを刺しなおしても動かない。どうやら破壊してしまったようである。

仕方がないのでFDD用電源から12Vを拝借し、抵抗で電圧を落としてファンにぶちこむことにした。12Vはほかにもそこらじゅうから生えているが、FDD用電源はジャンパ線がそのまま刺さるので使いやすい。可変抵抗で調整してみたところ、90Ωくらいなら始動するぽい。手元に120Ωしかない固定抵抗を適当に組み合わせて90Ωを組んだ。なお、120Ωでは始動しなかった。この状態でファンにかかる電圧を測ってみると8Vくらいだった。

<Tweet id="1819216271533396338" hideThread />

## HDD省電力設定

電源とケースファンの交換で、とりあえず睡眠を妨げない程度の音になり、常時起動が可能になった。嬉々としてつけっぱなしで外出していると、CrystalDiskInfoからHDDが高温になっているというメール通知が大量に届いた。自室は別にサーバルームでもペットがいるわけでもなく、自分がいないときにはエアコンを切っている。無駄に日当たりがよく、おそらく夏の昼間は40°Cとかになっている。

<Tweet id="1813822983124971989" />

先も述べた通りこのHDDは頻繁に使用するものではなく、使わない間は止めておけば過熱は抑えられるはず。使用頻度が低ければ、使用ごとに電源投入するデメリットが高温で動作させるデメリットより上回ることもないだろう。Windowsには一定時間使っていないHDDの電源を切る設定があり、これは初期の20分のままだったが、CrystalDiskInfoの自動更新を10分おきにしていたため発動していなかった。常にログを取りたい項目は代替処理済みのセクタ数くらいで、これも1日1回確認すれば十分なので、更新間隔を最大の1440分にした。

<Tweet id="1813948425626595727" hideThread />

まだ昼間の温度がどのくらい変わったか確認していないが(RDP繋いで手動で更新せなばならないが毎日忘れてる)、下がっていないとしても動作状態での高温と停止状態での高温では後者の方がマシだろう。

また、HDDの回転音もギリギリ可聴域の甲高い音がして微妙にうるさいので、騒音の低減効果もあった。

## そのほか

あと残っている騒音源としては、CPUファン、GPUファンとマザボのコイル鳴きがある。現時点で一番うるさいのはCPUファンだが、サイドフロー型のヒートシンクの中に10cm(?)のが埋め込まれており、交換するのは苦労しそうなので保留。GPUファンは40%-100%の間で設定できるが、なにもしなくてもほぼ40%固定で、大した音ではないので無視。GT 710の後継機はもう出そうにないが、もうちょっと新しければセミファンレスだったりしたのだろうか。マザボのコイル鳴きもｼﾞｰｼﾞｰだのﾁｭﾙﾁｭﾙだのなかなかうるさいが、ストレージにアクセスしていないときは鳴らないので気にするほどでもなく、そもそもどうしようもない。

## あとがき

使えなくはない範囲とはいえマザボも破壊してしまったので、N100マザボか何かで組みなおしたいところ。Mini-ITXなら3Dプリンタでケースを自作してもいいかも。