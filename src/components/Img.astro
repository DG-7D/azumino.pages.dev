---
import { Image } from "astro:assets";

interface Props {
    src: ImageMetadata;
    alt: string;
    widths?: number[];
    caption?: string;
}
const { src, alt, widths, caption, ...attrs } = Astro.props;
---

<figure>
    <Image src={src} alt={alt} widths={widths ?? [1920]} {...attrs} />
    {caption && <figcaption>{caption}</figcaption>}
</figure>
<style lang="scss">
    figure {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5em;

        img {
            display: block;
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 50vh;
            border: 0.1rem solid var(--main-shadow);
        }
        figcaption {
            display: block;
        }
    }
</style>
