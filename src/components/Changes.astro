---
import { execSync } from "child_process";

interface Props {
    count: number;
    inline?: boolean;
}

interface Commit {
    date: string;
    message: string;
}

const git = execSync('git log --format={\\""date\\"":\\""%ad\\"",\\""message\\"":\\""%s\\""}, --date=iso --first-parent').toString();
const history: Commit[] = JSON.parse(`[${git.substring(0, git.length - 2)}]`);
console.log(history);
---

<dl>
    {
        history.map((commit) => (
            <>
                <dt>{commit.date}</dt>
                <dd>{commit.message}</dd>
            </>
        ))
    }
</dl>
